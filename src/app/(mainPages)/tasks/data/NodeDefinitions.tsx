import {
  Play,
  Workflow,
  Timer,
  Download,
  Globe,
  Boxes,
  Clipboard,
  ClockAlert,
  AlertCircle,
  NotebookPen,
  Settings,
  Command,
  PanelsTopLeft,
  ArrowLeftRight,
  Shield,
  Undo2,
  Redo2,
  CircleX,
  Image,
  Lightbulb,
  MessageCircle,
  MonitorDown,
  RotateCcw,
  Link2,
  MousePointerClick,
  LetterText,
  Mouse,
  Brackets,
  ClipboardList,
  Code,
  Upload,
  Keyboard,
  Heading1,
  Bell,
  Repeat2,
  Split,
  LocateFixed,
  Infinity,
  RefreshCw,
  RefreshCwOff,
  Lock,
  FileOutput,
  FileInput,
  Database,
  Bug,
  FileText,
  User,
  Mail,
  Search,
  Trash2,
  Edit2,
  Plus,
  Minus,
  Eye,
  EyeOff,
  Terminal,
  Variable,
  Calendar,
  Server,
  Cloud,
  Zap,
  Cog,
  CheckCheck,
} from "lucide-react";

// Define a type for node definitions
interface NodeDefinition {
  id: number;
  type: string;
  label: string;
  category: string;
  icon: React.ReactNode;
  description: string;
  supportedInputs?: string[]; // Data types this node can accept
  supportedOutputs?: string[]; // Data types this node can produce
}

// General Nodes: Workflow initiation, utilities, and basic operations
export const GENERAL: NodeDefinition[] = [
  {
    id: 0,
    type: "customTriggerNode",
    label: "Trigger Workflow",
    category: "General",
    icon: <Play size={16} />,
    description:
      "Initiates the workflow execution based on a specified event or schedule.",
    supportedOutputs: ["timestamp", "boolean"],
  },
  {
    id: 1,
    type: "customWorkFlow",
    label: "Execute Sub-Workflow",
    category: "General",
    icon: <Workflow size={16} />,
    description: "Runs a nested sub-workflow or reusable process.",
    supportedInputs: ["any"],
    supportedOutputs: ["any"],
  },
  {
    id: 2,
    type: "customDelay",
    label: "Delay Execution",
    category: "General",
    icon: <Timer size={16} />,
    description: "Pauses the workflow for a specified duration.",
    supportedInputs: ["number"],
  },
  {
    id: 3,
    type: "customExport",
    label: "Export Data",
    category: "General",
    icon: <Download size={16} />,
    description: "Exports data to a file or external system (e.g., CSV, JSON).",
    supportedInputs: ["object", "array"],
  },
  {
    id: 4,
    type: "customRequest",
    label: "HTTP Request",
    category: "General",
    icon: <Globe size={16} />,
    description:
      "Makes HTTP requests (GET, POST, etc.) to APIs or web services.",
    supportedInputs: ["string", "object"],
    supportedOutputs: ["object", "string"],
  },
  {
    id: 5,
    type: "customClipBoard",
    label: "Clipboard Operations",
    category: "General",
    icon: <Clipboard size={16} />,
    description: "Reads from or writes to the system clipboard.",
    supportedInputs: ["string"],
    supportedOutputs: ["string"],
  },
  {
    id: 6,
    type: "customWaitConnections",
    label: "Wait for Connection",
    category: "General",
    icon: <ClockAlert size={16} />,
    description: "Pauses execution until a network connection is available.",
    supportedInputs: ["string"],
  },
  {
    id: 7,
    type: "customNotifications",
    label: "Send Notification",
    category: "General",
    icon: <Bell size={16} />,
    description: "Sends notifications via email, SMS, or system alerts.",
    supportedInputs: ["string", "object"],
  },
  {
    id: 8,
    type: "customNotes",
    label: "Documentation Note",
    category: "General",
    icon: <NotebookPen size={16} />,
    description: "Adds documentation or comments to the workflow.",
    supportedInputs: ["string"],
  },
  {
    id: 9,
    type: "customErrorHandler",
    label: "Error Handler",
    category: "General",
    icon: <AlertCircle size={16} />,
    description: "Catches and handles errors in the workflow.",
    supportedInputs: ["error"],
    supportedOutputs: ["boolean", "string"],
  },
  {
    id: 10,
    type: "customLogger",
    label: "Log Event",
    category: "General",
    icon: <FileText size={16} />,
    description: "Logs events or data to a file or console for debugging.",
    supportedInputs: ["any"],
  },
  {
    id: 11,
    type: "customVariable",
    label: "Set Variable",
    category: "General",
    icon: <Variable size={16} />,
    description: "Sets or updates a variable value in the workflow.",
    supportedInputs: ["any"],
    supportedOutputs: ["any"],
  },
  {
    id: 12,
    type: "customTimer",
    label: "Schedule Timer",
    category: "General",
    icon: <Calendar size={16} />,
    description: "Schedules a task to run at a specific time or interval.",
    supportedInputs: ["string", "number"],
    supportedOutputs: ["timestamp"],
  },
];

// Browser Nodes: Browser-specific operations
export const BROWSER: NodeDefinition[] = [
  {
    id: 0,
    type: "activeTab",
    label: "Get Active Tab",
    category: "Browser",
    icon: <PanelsTopLeft size={16} />,
    description:
      "Retrieves information about the currently active browser tab.",
    supportedOutputs: ["object"],
  },
  {
    id: 1,
    type: "newTab",
    label: "Open New Tab",
    category: "Browser",
    icon: <Globe size={16} />,
    description: "Opens a new browser tab with a specified URL.",
    supportedInputs: ["string"],
  },
  {
    id: 2,
    type: "switchTabs",
    label: "Switch Browser Tabs",
    category: "Browser",
    icon: <ArrowLeftRight size={16} />,
    description: "Switches focus between open browser tabs.",
    supportedInputs: ["number", "string"],
  },
  {
    id: 3,
    type: "newWindow",
    label: "Open New Window",
    category: "Browser",
    icon: <PanelsTopLeft size={16} />,
    description: "Opens a new browser window.",
    supportedInputs: ["string"],
  },
  {
    id: 4,
    type: "proxy",
    label: "Set Proxy",
    category: "Browser",
    icon: <Shield size={16} />,
    description: "Configures proxy settings for browser requests.",
    supportedInputs: ["object"],
  },
  {
    id: 5,
    type: "closeTabs",
    label: "Close Tabs",
    category: "Browser",
    icon: <CircleX size={16} />,
    description: "Closes specified browser tabs.",
    supportedInputs: ["string", "array"],
  },
  {
    id: 6,
    type: "goBack",
    label: "Navigate Back",
    category: "Browser",
    icon: <Undo2 size={16} />,
    description: "Navigates back in the browser history.",
  },
  {
    id: 7,
    type: "goForward",
    label: "Navigate Forward",
    category: "Browser",
    icon: <Redo2 size={16} />,
    description: "Navigates forward in the browser history.",
  },
  {
    id: 8,
    type: "takeScreenShot",
    label: "Capture Screenshot",
    category: "Browser",
    icon: <Image size={16} />,
    description: "Captures a screenshot of the current browser view.",
    supportedOutputs: ["buffer", "string"],
  },
  {
    id: 9,
    type: "browserEvent",
    label: "Monitor Browser Event",
    category: "Browser",
    icon: <Lightbulb size={16} />,
    description: "Listens for and reacts to browser events (e.g., page load).",
    supportedOutputs: ["object"],
  },
  {
    id: 10,
    type: "handleDownload",
    label: "Manage Download",
    category: "Browser",
    icon: <MonitorDown size={16} />,
    description: "Handles file downloads from the browser.",
    supportedInputs: ["string"],
    supportedOutputs: ["string"],
  },
  {
    id: 11,
    type: "reloadTab",
    label: "Reload Tab",
    category: "Browser",
    icon: <RotateCcw size={16} />,
    description: "Reloads the current browser tab.",
  },
  {
    id: 12,
    type: "getTabURL",
    label: "Get Tab URL",
    category: "Browser",
    icon: <Link2 size={16} />,
    description: "Retrieves the URL of the specified browser tab.",
    supportedOutputs: ["string"],
  },
  {
    id: 13,
    type: "authentication",
    label: "Browser Authentication",
    category: "Browser",
    icon: <Lock size={16} />,
    description: "Manages browser authentication (e.g., login forms, OAuth).",
    supportedInputs: ["object"],
  },
  {
    id: 14,
    type: "clearCookies",
    label: "Clear Cookies",
    category: "Browser",
    icon: <Trash2 size={16} />,
    description: "Clears cookies for the current browser session.",
  },
  {
    id: 15,
    type: "setUserAgent",
    label: "Set User Agent",
    category: "Browser",
    icon: <User size={16} />,
    description: "Sets a custom user agent string for the browser.",
    supportedInputs: ["string"],
  },
];

// Web Interaction Nodes: Browser DOM interactions
export const INTERACTION: NodeDefinition[] = [
  {
    id: 0,
    type: "customClickElement",
    label: "Click Element",
    category: "Web Interaction",
    icon: <MousePointerClick size={16} />,
    description: "Simulates a click on a specified web element.",
    supportedInputs: ["string"],
  },
  {
    id: 1,
    type: "customGetText",
    label: "Extract Text",
    category: "Web Interaction",
    icon: <LetterText size={16} />,
    description: "Extracts text content from a web element.",
    supportedInputs: ["string"],
    supportedOutputs: ["string"],
  },
  {
    id: 2,
    type: "customScrollElement",
    label: "Scroll to Element",
    category: "Web Interaction",
    icon: <Mouse size={16} />,
    description: "Scrolls the page to a specified element or position.",
    supportedInputs: ["string", "number"],
  },
  {
    id: 3,
    type: "customLink",
    label: "Follow Link",
    category: "Web Interaction",
    icon: <Link2 size={16} />,
    description: "Navigates to a URL specified in a hyperlink.",
    supportedInputs: ["string"],
  },
  {
    id: 4,
    type: "customAttributeVariable",
    label: "Get Attribute",
    category: "Web Interaction",
    icon: <Brackets size={16} />,
    description: "Retrieves an attribute value from a web element.",
    supportedInputs: ["string"],
    supportedOutputs: ["string"],
  },
  {
    id: 5,
    type: "customForms",
    label: "Form Operations",
    category: "Web Interaction",
    icon: <ClipboardList size={16} />,
    description: "Fills out or submits web forms.",
    supportedInputs: ["object"],
  },
  {
    id: 6,
    type: "customJavaScript",
    label: "Execute JavaScript",
    category: "Web Interaction",
    icon: <Code size={16} />,
    description: "Executes custom JavaScript code in the browser.",
    supportedInputs: ["string"],
    supportedOutputs: ["any"],
  },
  {
    id: 7,
    type: "customTriggerEvent",
    label: "Trigger DOM Event",
    category: "Web Interaction",
    icon: <Lightbulb size={16} />,
    description: "Triggers a specified DOM event on an element.",
    supportedInputs: ["string"],
  },
  {
    id: 8,
    type: "customSwitchFrame",
    label: "Switch Frame",
    category: "Web Interaction",
    icon: <ArrowLeftRight size={16} />,
    description: "Switches context to an iframe or back to main content.",
    supportedInputs: ["string"],
  },
  {
    id: 9,
    type: "customUploadFile",
    label: "Upload File",
    category: "Web Interaction",
    icon: <Upload size={16} />,
    description: "Uploads a file to a web form.",
    supportedInputs: ["string"],
  },
  {
    id: 10,
    type: "customHoverElement",
    label: "Hover Element",
    category: "Web Interaction",
    icon: <MousePointerClick size={16} />,
    description: "Simulates hovering over a web element.",
    supportedInputs: ["string"],
  },
  {
    id: 11,
    type: "customSaveAssets",
    label: "Download Assets",
    category: "Web Interaction",
    icon: <Image size={16} />,
    description: "Downloads assets (images, files) from a webpage.",
    supportedInputs: ["string"],
    supportedOutputs: ["buffer"],
  },
  {
    id: 12,
    type: "customPressKey",
    label: "Press Key",
    category: "Web Interaction",
    icon: <Keyboard size={16} />,
    description: "Simulates pressing a keyboard key.",
    supportedInputs: ["string"],
  },
  {
    id: 13,
    type: "customCreateElement",
    label: "Create DOM Element",
    category: "Web Interaction",
    icon: <Heading1 size={16} />,
    description: "Creates a new DOM element on the page.",
    supportedInputs: ["object"],
  },
  {
    id: 14,
    type: "customRemoveElement",
    label: "Remove DOM Element",
    category: "Web Interaction",
    icon: <Trash2 size={16} />,
    description: "Removes a specified DOM element from the page.",
    supportedInputs: ["string"],
  },
  {
    id: 15,
    type: "customSetInput",
    label: "Set Input Value",
    category: "Web Interaction",
    icon: <Edit2 size={16} />,
    description: "Sets the value of an input field.",
    supportedInputs: ["string"],
  },
  {
    id: 16,
    type: "customGetElements",
    label: "Get Multiple Elements",
    category: "Web Interaction",
    icon: <Boxes size={16} />,
    description: "Retrieves a collection of elements matching a selector.",
    supportedInputs: ["string"],
    supportedOutputs: ["array"],
  },
];

// Control Flow Nodes: Workflow control and looping
export const CONTROL_FLOW: NodeDefinition[] = [
  {
    id: 0,
    type: "repeatTask",
    label: "Repeat Task",
    category: "Control Flow",
    icon: <Repeat2 size={16} />,
    description: "Repeats a task a specified number of times.",
    supportedInputs: ["number"],
  },
  {
    id: 1,
    type: "conditions",
    label: "Conditional Branch",
    category: "Control Flow",
    icon: <Split size={16} />,
    description: "Executes different paths based on a condition.",
    supportedInputs: ["boolean", "string", "number"],
    supportedOutputs: ["boolean"],
  },
  {
    id: 2,
    type: "elementExist",
    label: "Check Element Exists",
    category: "Control Flow",
    icon: <LocateFixed size={16} />,
    description: "Checks if a specified element exists on the page.",
    supportedInputs: ["string"],
    supportedOutputs: ["boolean"],
  },
  {
    id: 3,
    type: "whileLoop",
    label: "While Loop",
    category: "Control Flow",
    icon: <Infinity size={16} />,
    description: "Executes a loop while a condition is true.",
    supportedInputs: ["boolean"],
  },
  {
    id: 4,
    type: "loopData",
    label: "Loop Through Data",
    category: "Control Flow",
    icon: <RefreshCw size={16} />,
    description: "Iterates over an array or dataset.",
    supportedInputs: ["array"],
    supportedOutputs: ["any"],
  },
  {
    id: 5,
    type: "loopElement",
    label: "Loop Through Elements",
    category: "Control Flow",
    icon: <RotateCcw size={16} />,
    description: "Iterates over a collection of web elements.",
    supportedInputs: ["string"],
    supportedOutputs: ["object"],
  },
  {
    id: 6,
    type: "loopBreak",
    label: "Break Loop",
    category: "Control Flow",
    icon: <RefreshCwOff size={16} />,
    description: "Exits the current loop execution.",
  },
];

// Data Nodes: Data manipulation and storage
export const DATA: NodeDefinition[] = [
  {
    id: 0,
    type: "databaseQuery",
    label: "Database Query",
    category: "Data",
    icon: <Database size={16} />,
    description: "Executes a query against a database.",
    supportedInputs: ["string"],
    supportedOutputs: ["array", "object"],
  },
  {
    id: 1,
    type: "fileInput",
    label: "Read File",
    category: "Data",
    icon: <FileInput size={16} />,
    description: "Reads data from a file (e.g., CSV, JSON).",
    supportedInputs: ["string"],
    supportedOutputs: ["object", "array"],
  },
  {
    id: 2,
    type: "fileOutput",
    label: "Write File",
    category: "Data",
    icon: <FileOutput size={16} />,
    description: "Writes data to a file.",
    supportedInputs: ["object", "array", "string"],
  },
  {
    id: 3,
    type: "dataTransform",
    label: "Transform Data",
    category: "Data",
    icon: <Cog size={16} />,
    description: "Transforms data using custom rules or mappings.",
    supportedInputs: ["object", "array"],
    supportedOutputs: ["object", "array"],
  },
  {
    id: 4,
    type: "dataFilter",
    label: "Filter Data",
    category: "Data",
    icon: <Search size={16} />,
    description: "Filters data based on specified conditions.",
    supportedInputs: ["array"],
    supportedOutputs: ["array"],
  },
  {
    id: 5,
    type: "dataAggregate",
    label: "Aggregate Data",
    category: "Data",
    icon: <Plus size={16} />,
    description: "Aggregates data (e.g., sum, average) from an array.",
    supportedInputs: ["array"],
    supportedOutputs: ["number", "object"],
  },
];

// Advanced Nodes: Debugging, system interactions, and advanced features
export const ADVANCED: NodeDefinition[] = [
  {
    id: 0,
    type: "debug",
    label: "Debug Breakpoint",
    category: "Advanced",
    icon: <Bug size={16} />,
    description: "Pauses execution for debugging purposes.",
    supportedInputs: ["any"],
  },
  {
    id: 1,
    type: "consoleCommand",
    label: "Run Console Command",
    category: "Advanced",
    icon: <Terminal size={16} />,
    description: "Executes a system command via the console.",
    supportedInputs: ["string"],
    supportedOutputs: ["string"],
  },
  {
    id: 2,
    type: "systemMonitor",
    label: "Monitor System Resources",
    category: "Advanced",
    icon: <Server size={16} />,
    description: "Monitors CPU, memory, or network usage.",
    supportedOutputs: ["object"],
  },
  {
    id: 3,
    type: "cloudSync",
    label: "Cloud Sync",
    category: "Advanced",
    icon: <Cloud size={16} />,
    description:
      "Synchronizes data with a cloud service (e.g., AWS, Google Drive).",
    supportedInputs: ["object", "array"],
    supportedOutputs: ["string"],
  },
  {
    id: 4,
    type: "customScript",
    label: "Custom Script",
    category: "Advanced",
    icon: <Code size={16} />,
    description:
      "Runs a custom script (e.g., Python, Node.js) within the workflow.",
    supportedInputs: ["string"],
    supportedOutputs: ["any"],
  },
];

// User Interaction Nodes: Handling user input and feedback
export const USER_INTERACTION: NodeDefinition[] = [
  {
    id: 0,
    type: "promptUser",
    label: "Prompt User Input",
    category: "User Interaction",
    icon: <MessageCircle size={16} />,
    description: "Prompts the user for input during execution.",
    supportedOutputs: ["string"],
  },
  {
    id: 1,
    type: "confirmDialog",
    label: "Confirm Dialog",
    category: "User Interaction",
    icon: <CheckCheck size={16} />,
    description: "Displays a confirmation dialog and waits for user response.",
    supportedOutputs: ["boolean"],
  },
  {
    id: 2,
    type: "alertUser",
    label: "Alert User",
    category: "User Interaction",
    icon: <AlertCircle size={16} />,
    description: "Displays an alert message to the user.",
    supportedInputs: ["string"],
  },
  {
    id: 3,
    type: "userProfile",
    label: "Get User Profile",
    category: "User Interaction",
    icon: <User size={16} />,
    description:
      "Retrieves user profile information (e.g., from browser or system).",
    supportedOutputs: ["object"],
  },
  {
    id: 4,
    type: "sendEmail",
    label: "Send Email",
    category: "User Interaction",
    icon: <Mail size={16} />,
    description: "Sends an email to a specified recipient.",
    supportedInputs: ["object"],
  },
];

export const AI: NodeDefinition[] = [
  {
    id: 0,
    type: "aiAgent",
    label: "AI Agent",
    category: "AI",
    icon: <Zap size={16} />,
    description:
      "Executes tasks using an AI agent with natural language understanding and decision-making capabilities.",
    supportedInputs: ["string", "object"],
    supportedOutputs: ["string", "object", "boolean"],
  },
  {
    id: 1,
    type: "aiTextGeneration",
    label: "Generate Text",
    category: "AI",
    icon: <LetterText size={16} />,
    description:
      "Generates text content using an AI model (e.g., summaries, articles, or responses).",
    supportedInputs: ["string", "object"],
    supportedOutputs: ["string"],
  },
  {
    id: 2,
    type: "aiImageGeneration",
    label: "Generate Image",
    category: "AI",
    icon: <Image size={16} />,
    description:
      "Creates images based on textual descriptions using an AI model.",
    supportedInputs: ["string"],
    supportedOutputs: ["buffer", "string"],
  },
  {
    id: 3,
    type: "aiSentimentAnalysis",
    label: "Sentiment Analysis",
    category: "AI",
    icon: <MessageCircle size={16} />,
    description:
      "Analyzes the sentiment (positive, negative, neutral) of input text using AI.",
    supportedInputs: ["string"],
    supportedOutputs: ["object", "string"],
  },
  {
    id: 4,
    type: "aiDataClassification",
    label: "Classify Data",
    category: "AI",
    icon: <Brackets size={16} />,
    description: "Classifies data into categories using a trained AI model.",
    supportedInputs: ["array", "object"],
    supportedOutputs: ["array", "object"],
  },
  {
    id: 5,
    type: "aiDataPrediction",
    label: "Predict Data",
    category: "AI",
    icon: <Search size={16} />,
    description:
      "Makes predictions based on input data using a predictive AI model.",
    supportedInputs: ["array", "object"],
    supportedOutputs: ["number", "object"],
  },
  {
    id: 6,
    type: "aiChatbot",
    label: "AI Chatbot",
    category: "AI",
    icon: <MessageCircle size={16} />,
    description: "Simulates a conversational AI chatbot for user interactions.",
    supportedInputs: ["string"],
    supportedOutputs: ["string"],
  },
  {
    id: 7,
    type: "aiTextSummarization",
    label: "Summarize Text",
    category: "AI",
    icon: <FileText size={16} />,
    description: "Generates a concise summary of input text using AI.",
    supportedInputs: ["string"],
    supportedOutputs: ["string"],
  },
  {
    id: 8,
    type: "aiTranslation",
    label: "Translate Text",
    category: "AI",
    icon: <Globe size={16} />,
    description: "Translates text from one language to another using AI.",
    supportedInputs: ["string"],
    supportedOutputs: ["string"],
  },
  {
    id: 9,
    type: "aiEntityExtraction",
    label: "Extract Entities",
    category: "AI",
    icon: <LocateFixed size={16} />,
    description:
      "Extracts named entities (e.g., people, places, organizations) from text using AI.",
    supportedInputs: ["string"],
    supportedOutputs: ["array", "object"],
  },
  {
    id: 10,
    type: "aiCodeGeneration",
    label: "Generate Code",
    category: "AI",
    icon: <Code size={16} />,
    description:
      "Generates code snippets based on natural language descriptions using AI.",
    supportedInputs: ["string"],
    supportedOutputs: ["string"],
  },
  {
    id: 11,
    type: "aiModelTraining",
    label: "Train AI Model",
    category: "AI",
    icon: <Cog size={16} />,
    description: "Trains a custom AI model with provided data.",
    supportedInputs: ["array", "object"],
    supportedOutputs: ["object"],
  },
  {
    id: 12,
    type: "aiAnomalyDetection",
    label: "Detect Anomalies",
    category: "AI",
    icon: <AlertCircle size={16} />,
    description: "Identifies anomalies in data using AI-based analysis.",
    supportedInputs: ["array", "object"],
    supportedOutputs: ["array", "object"],
  },
  {
    id: 13,
    type: "aiSpeechToText",
    label: "Speech to Text",
    category: "AI",
    icon: <MessageCircle size={16} />,
    description: "Converts audio input to text using AI speech recognition.",
    supportedInputs: ["buffer"],
    supportedOutputs: ["string"],
  },
  {
    id: 14,
    type: "aiTextToSpeech",
    label: "Text to Speech",
    category: "AI",
    icon: <MessageCircle size={16} />,
    description: "Converts text to audio using AI speech synthesis.",
    supportedInputs: ["string"],
    supportedOutputs: ["buffer"],
  },
  {
    id: 15,
    type: "aiContextualSearch",
    label: "Contextual Search",
    category: "AI",
    icon: <Search size={16} />,
    description:
      "Performs a contextual search using AI to find relevant information.",
    supportedInputs: ["string"],
    supportedOutputs: ["array", "object"],
  },
  {
    id: 16,
    type: "aiDecisionEngine",
    label: "Decision Engine",
    category: "AI",
    icon: <Split size={16} />,
    description:
      "Makes automated decisions based on AI-driven logic and input data.",
    supportedInputs: ["object", "string"],
    supportedOutputs: ["boolean", "string", "object"],
  },
  {
    id: 17,
    type: "aiContentModeration",
    label: "Content Moderation",
    category: "AI",
    icon: <Shield size={16} />,
    description: "Analyzes and moderates content for appropriateness using AI.",
    supportedInputs: ["string"],
    supportedOutputs: ["boolean", "object"],
  },
];
